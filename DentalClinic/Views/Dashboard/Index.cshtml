
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row" id="printc">
    <div class="col-xl-3 col-sm-6 mb-3">
        <div class="card text-white bg-light o-hidden h-100">
            <a class="card-body text-primary clearfix small z-1" href="#" data-toggle="modal" data-target="#PatientProfileModal">
                <div class="card-body-icon">
                    <i class="fas fa-fw fa-user"></i>
                </div>
                <span class="float-left h4 font-weight-light">Patient Profile</span>
            </a>
            <a class="card-footer text-primary clearfix small z-1" asp-action="Index" asp-controller="Patients">
                <span class="float-left" id="Patient"></span>
                <span class="float-right">
                    <i class="fas fa-angle-right"></i>
                </span>
            </a>
        </div>
    </div>
    <div class="col-xl-3 col-sm-6 mb-3">
        <div class="card text-white bg-light o-hidden h-100">
            <a class="card-body text-primary clearfix small z-1" asp-action="AddOrEdit" asp-controller="PatientRegisterations">
                <div class="card-body-icon">
                    <i class="fas fa-stethoscope"></i>
                </div>
                <div class="float-left h4 font-weight-light">Appointments</div>
            </a>
            <a class="card-footer text-primary clearfix small z-1" href="#">
                <span class="float-left">View Details</span>
                <span class="float-right">
                    <i class="fas fa-angle-right"></i>
                </span>
            </a>
        </div>
    </div>
    <div class="col-xl-3 col-sm-6 mb-3">
        <div class="card text-dark bg-light o-hidden h-100">
            <a class="card-body text-success clearfix small z-1" asp-action="Index" asp-controller="Doctors">
                <div class="card-body-icon">
                    <i class="fas fa-user-md"></i>
                </div>
                <div class="float-left h4 font-weight-light">Doctor Profile</div>
            </a>
            <a class="card-footer text-primary clearfix small z-1" href="#">
                <span class="float-left">View Details</span>
                <span class="float-right">
                    <i class="fas fa-angle-right"></i>
                </span>
            </a>
        </div>
    </div>
    <div class="col-xl-3 col-sm-6 mb-3">
        <div class="card text-dark bg-light o-hidden h-100">
            <a class="card-body text-info clearfix small z-1" asp-action="Index" asp-controller="StudentViewModel">
                <div class="card-body-icon">
                    <i class="fas fa-chalkboard-teacher"></i>
                </div>
                <div class="float-left h4 font-weight-light">Student Profile</div>
            </a>
            <a class="card-footer text-primary clearfix small z-1" href="#">
                <span class="float-left">View Details</span>
                <span class="float-right">
                    <i class="fas fa-angle-right"></i>
                </span>
            </a>
        </div>
    </div>
</div>

<div class="img-responsive">
    <img class="img-fluid rounded" src="~/lib/images/dental-clinic.jpg" width="100%" />
</div>

@*Area Chart Example
    <div class="card mb-3">
        <div class="card-header">
            <i class="fas fa-chart-area"></i>
            Patient Registration Chart
        </div>
        <div class="card-body">
            <canvas id="myAreaChart" width="100%" height="30"></canvas>
        </div>
        <div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>
    </div>*@

<!-- DataTables Example -->
@*<div class="card mb-3">
        <div class="card-header">
            <i class="fas fa-table"></i>
            <button class="btn btn-sm btn-secondary float-right ml-1" onclick="print('#print');"><i class="fas fa-print"></i></button>
            <button class="btn btn-sm btn-danger float-right ml-1" onclick="print();"><i class="fas fa-file-pdf"></i></button>
            <button class="btn btn-sm btn-success float-right" onclick="print();"><i class="fas fa-file-excel"></i></button>
            Data Table Example
        </div>
        <div class="card-body" id="print">
            <div class="table-responsive">
                <table class="table table-striped table-bordered" id="table" style="width:100%">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Position</th>
                            <th>Office</th>
                            <th>Age</th>
                            <th>Start date</th>
                            <th>Salary</th>
                        </tr>
                    </thead>
                    <tfoot>
                        <tr>
                            <th>Name</th>
                            <th>Position</th>
                            <th>Office</th>
                            <th>Age</th>
                            <th>Start date</th>
                            <th>Salary</th>
                        </tr>
                    </tfoot>
                    <tbody>
                        <tr>
                            <td>Tiger Nixon</td>
                            <td>System Architect</td>
                            <td>Edinburgh</td>
                            <td>61</td>
                            <td>2011/04/25</td>
                            <td>$320,800</td>
                        </tr>
                        <tr>
                            <td>Garrett Winters</td>
                            <td>Accountant</td>
                            <td>Tokyo</td>
                            <td>63</td>
                            <td>2011/07/25</td>
                            <td>$170,750</td>
                        </tr>
                        <tr>
                            <td>Ashton Cox</td>
                            <td>Junior Technical Author</td>
                            <td>San Francisco</td>
                            <td>66</td>
                            <td>2009/01/12</td>
                            <td>$86,000</td>
                        </tr>
                        <tr>
                            <td>Cedric Kelly</td>
                            <td>Senior Javascript Developer</td>
                            <td>Edinburgh</td>
                            <td>22</td>
                            <td>2012/03/29</td>
                            <td>$433,060</td>
                        </tr>
                        <tr>
                            <td>Airi Satou</td>
                            <td>Accountant</td>
                            <td>Tokyo</td>
                            <td>33</td>
                            <td>2008/11/28</td>
                            <td>$162,700</td>
                        </tr>
                        <tr>
                            <td>Brielle Williamson</td>
                            <td>Integration Specialist</td>
                            <td>New York</td>
                            <td>61</td>
                            <td>2012/12/02</td>
                            <td>$372,000</td>
                        </tr>
                        <tr>
                            <td>Herrod Chandler</td>
                            <td>Sales Assistant</td>
                            <td>San Francisco</td>
                            <td>59</td>
                            <td>2012/08/06</td>
                            <td>$137,500</td>
                        </tr>
                        <tr>
                            <td>Rhona Davidson</td>
                            <td>Integration Specialist</td>
                            <td>Tokyo</td>
                            <td>55</td>
                            <td>2010/10/14</td>
                            <td>$327,900</td>
                        </tr>
                        <tr>
                            <td>Colleen Hurst</td>
                            <td>Javascript Developer</td>
                            <td>San Francisco</td>
                            <td>39</td>
                            <td>2009/09/15</td>
                            <td>$205,500</td>
                        </tr>
                        <tr>
                            <td>Sonya Frost</td>
                            <td>Software Engineer</td>
                            <td>Edinburgh</td>
                            <td>23</td>
                            <td>2008/12/13</td>
                            <td>$103,600</td>
                        </tr>
                        <tr>
                            <td>Jena Gaines</td>
                            <td>Office Manager</td>
                            <td>London</td>
                            <td>30</td>
                            <td>2008/12/19</td>
                            <td>$90,560</td>
                        </tr>
                        <tr>
                            <td>Quinn Flynn</td>
                            <td>Support Lead</td>
                            <td>Edinburgh</td>
                            <td>22</td>
                            <td>2013/03/03</td>
                            <td>$342,000</td>
                        </tr>
                        <tr>
                            <td>Charde Marshall</td>
                            <td>Regional Director</td>
                            <td>San Francisco</td>
                            <td>36</td>
                            <td>2008/10/16</td>
                            <td>$470,600</td>
                        </tr>
                        <tr>
                            <td>Haley Kennedy</td>
                            <td>Senior Marketing Designer</td>
                            <td>London</td>
                            <td>43</td>
                            <td>2012/12/18</td>
                            <td>$313,500</td>
                        </tr>
                        <tr>
                            <td>Tatyana Fitzpatrick</td>
                            <td>Regional Director</td>
                            <td>London</td>
                            <td>19</td>
                            <td>2010/03/17</td>
                            <td>$385,750</td>
                        </tr>
                        <tr>
                            <td>Michael Silva</td>
                            <td>Marketing Designer</td>
                            <td>London</td>
                            <td>66</td>
                            <td>2012/11/27</td>
                            <td>$198,500</td>
                        </tr>
                        <tr>
                            <td>Paul Byrd</td>
                            <td>Chief Financial Officer (CFO)</td>
                            <td>New York</td>
                            <td>64</td>
                            <td>2010/06/09</td>
                            <td>$725,000</td>
                        </tr>
                        <tr>
                            <td>Gloria Little</td>
                            <td>Systems Administrator</td>
                            <td>New York</td>
                            <td>59</td>
                            <td>2009/04/10</td>
                            <td>$237,500</td>
                        </tr>
                        <tr>
                            <td>Bradley Greer</td>
                            <td>Software Engineer</td>
                            <td>London</td>
                            <td>41</td>
                            <td>2012/10/13</td>
                            <td>$132,000</td>
                        </tr>
                        <tr>
                            <td>Dai Rios</td>
                            <td>Personnel Lead</td>
                            <td>Edinburgh</td>
                            <td>35</td>
                            <td>2012/09/26</td>
                            <td>$217,500</td>
                        </tr>
                        <tr>
                            <td>Jenette Caldwell</td>
                            <td>Development Lead</td>
                            <td>New York</td>
                            <td>30</td>
                            <td>2011/09/03</td>
                            <td>$345,000</td>
                        </tr>
                        <tr>
                            <td>Yuri Berry</td>
                            <td>Chief Marketing Officer (CMO)</td>
                            <td>New York</td>
                            <td>40</td>
                            <td>2009/06/25</td>
                            <td>$675,000</td>
                        </tr>
                        <tr>
                            <td>Caesar Vance</td>
                            <td>Pre-Sales Support</td>
                            <td>New York</td>
                            <td>21</td>
                            <td>2011/12/12</td>
                            <td>$106,450</td>
                        </tr>
                        <tr>
                            <td>Doris Wilder</td>
                            <td>Sales Assistant</td>
                            <td>Sidney</td>
                            <td>23</td>
                            <td>2010/09/20</td>
                            <td>$85,600</td>
                        </tr>
                        <tr>
                            <td>Angelica Ramos</td>
                            <td>Chief Executive Officer (CEO)</td>
                            <td>London</td>
                            <td>47</td>
                            <td>2009/10/09</td>
                            <td>$1,200,000</td>
                        </tr>
                        <tr>
                            <td>Gavin Joyce</td>
                            <td>Developer</td>
                            <td>Edinburgh</td>
                            <td>42</td>
                            <td>2010/12/22</td>
                            <td>$92,575</td>
                        </tr>
                        <tr>
                            <td>Jennifer Chang</td>
                            <td>Regional Director</td>
                            <td>Singapore</td>
                            <td>28</td>
                            <td>2010/11/14</td>
                            <td>$357,650</td>
                        </tr>
                        <tr>
                            <td>Brenden Wagner</td>
                            <td>Software Engineer</td>
                            <td>San Francisco</td>
                            <td>28</td>
                            <td>2011/06/07</td>
                            <td>$206,850</td>
                        </tr>
                        <tr>
                            <td>Fiona Green</td>
                            <td>Chief Operating Officer (COO)</td>
                            <td>San Francisco</td>
                            <td>48</td>
                            <td>2010/03/11</td>
                            <td>$850,000</td>
                        </tr>
                        <tr>
                            <td>Shou Itou</td>
                            <td>Regional Marketing</td>
                            <td>Tokyo</td>
                            <td>20</td>
                            <td>2011/08/14</td>
                            <td>$163,000</td>
                        </tr>
                        <tr>
                            <td>Michelle House</td>
                            <td>Integration Specialist</td>
                            <td>Sidney</td>
                            <td>37</td>
                            <td>2011/06/02</td>
                            <td>$95,400</td>
                        </tr>
                        <tr>
                            <td>Suki Burks</td>
                            <td>Developer</td>
                            <td>London</td>
                            <td>53</td>
                            <td>2009/10/22</td>
                            <td>$114,500</td>
                        </tr>
                        <tr>
                            <td>Prescott Bartlett</td>
                            <td>Technical Author</td>
                            <td>London</td>
                            <td>27</td>
                            <td>2011/05/07</td>
                            <td>$145,000</td>
                        </tr>
                        <tr>
                            <td>Gavin Cortez</td>
                            <td>Team Leader</td>
                            <td>San Francisco</td>
                            <td>22</td>
                            <td>2008/10/26</td>
                            <td>$235,500</td>
                        </tr>
                        <tr>
                            <td>Martena Mccray</td>
                            <td>Post-Sales support</td>
                            <td>Edinburgh</td>
                            <td>46</td>
                            <td>2011/03/09</td>
                            <td>$324,050</td>
                        </tr>
                        <tr>
                            <td>Unity Butler</td>
                            <td>Marketing Designer</td>
                            <td>San Francisco</td>
                            <td>47</td>
                            <td>2009/12/09</td>
                            <td>$85,675</td>
                        </tr>
                        <tr>
                            <td>Howard Hatfield</td>
                            <td>Office Manager</td>
                            <td>San Francisco</td>
                            <td>51</td>
                            <td>2008/12/16</td>
                            <td>$164,500</td>
                        </tr>
                        <tr>
                            <td>Hope Fuentes</td>
                            <td>Secretary</td>
                            <td>San Francisco</td>
                            <td>41</td>
                            <td>2010/02/12</td>
                            <td>$109,850</td>
                        </tr>
                        <tr>
                            <td>Vivian Harrell</td>
                            <td>Financial Controller</td>
                            <td>San Francisco</td>
                            <td>62</td>
                            <td>2009/02/14</td>
                            <td>$452,500</td>
                        </tr>
                        <tr>
                            <td>Timothy Mooney</td>
                            <td>Office Manager</td>
                            <td>London</td>
                            <td>37</td>
                            <td>2008/12/11</td>
                            <td>$136,200</td>
                        </tr>
                        <tr>
                            <td>Jackson Bradshaw</td>
                            <td>Director</td>
                            <td>New York</td>
                            <td>65</td>
                            <td>2008/09/26</td>
                            <td>$645,750</td>
                        </tr>
                        <tr>
                            <td>Olivia Liang</td>
                            <td>Support Engineer</td>
                            <td>Singapore</td>
                            <td>64</td>
                            <td>2011/02/03</td>
                            <td>$234,500</td>
                        </tr>
                        <tr>
                            <td>Bruno Nash</td>
                            <td>Software Engineer</td>
                            <td>London</td>
                            <td>38</td>
                            <td>2011/05/03</td>
                            <td>$163,500</td>
                        </tr>
                        <tr>
                            <td>Sakura Yamamoto</td>
                            <td>Support Engineer</td>
                            <td>Tokyo</td>
                            <td>37</td>
                            <td>2009/08/19</td>
                            <td>$139,575</td>
                        </tr>
                        <tr>
                            <td>Thor Walton</td>
                            <td>Developer</td>
                            <td>New York</td>
                            <td>61</td>
                            <td>2013/08/11</td>
                            <td>$98,540</td>
                        </tr>
                        <tr>
                            <td>Finn Camacho</td>
                            <td>Support Engineer</td>
                            <td>San Francisco</td>
                            <td>47</td>
                            <td>2009/07/07</td>
                            <td>$87,500</td>
                        </tr>
                        <tr>
                            <td>Serge Baldwin</td>
                            <td>Data Coordinator</td>
                            <td>Singapore</td>
                            <td>64</td>
                            <td>2012/04/09</td>
                            <td>$138,575</td>
                        </tr>
                        <tr>
                            <td>Zenaida Frank</td>
                            <td>Software Engineer</td>
                            <td>New York</td>
                            <td>63</td>
                            <td>2010/01/04</td>
                            <td>$125,250</td>
                        </tr>
                        <tr>
                            <td>Zorita Serrano</td>
                            <td>Software Engineer</td>
                            <td>San Francisco</td>
                            <td>56</td>
                            <td>2012/06/01</td>
                            <td>$115,000</td>
                        </tr>
                        <tr>
                            <td>Jennifer Acosta</td>
                            <td>Junior Javascript Developer</td>
                            <td>Edinburgh</td>
                            <td>43</td>
                            <td>2013/02/01</td>
                            <td>$75,650</td>
                        </tr>
                        <tr>
                            <td>Cara Stevens</td>
                            <td>Sales Assistant</td>
                            <td>New York</td>
                            <td>46</td>
                            <td>2011/12/06</td>
                            <td>$145,600</td>
                        </tr>
                        <tr>
                            <td>Hermione Butler</td>
                            <td>Regional Director</td>
                            <td>London</td>
                            <td>47</td>
                            <td>2011/03/21</td>
                            <td>$356,250</td>
                        </tr>
                        <tr>
                            <td>Lael Greer</td>
                            <td>Systems Administrator</td>
                            <td>London</td>
                            <td>21</td>
                            <td>2009/02/27</td>
                            <td>$103,500</td>
                        </tr>
                        <tr>
                            <td>Jonas Alexander</td>
                            <td>Developer</td>
                            <td>San Francisco</td>
                            <td>30</td>
                            <td>2010/07/14</td>
                            <td>$86,500</td>
                        </tr>
                        <tr>
                            <td>Shad Decker</td>
                            <td>Regional Director</td>
                            <td>Edinburgh</td>
                            <td>51</td>
                            <td>2008/11/13</td>
                            <td>$183,000</td>
                        </tr>
                        <tr>
                            <td>Michael Bruce</td>
                            <td>Javascript Developer</td>
                            <td>Singapore</td>
                            <td>29</td>
                            <td>2011/06/27</td>
                            <td>$183,000</td>
                        </tr>
                        <tr>
                            <td>Donna Snider</td>
                            <td>Customer Support</td>
                            <td>New York</td>
                            <td>27</td>
                            <td>2011/01/25</td>
                            <td>$112,000</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>
    </div>*@


<div class="modal fade" id="PatientProfileModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Search Patient</h5>
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">x</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="form-group col col-12">
                        <label class="mr-2 font-weight-normal">Seach by : </label>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" class="custom-control-input" id="id" name="searchRadio" />
                            <label class="custom-control-label" for="id">ID</label>
                        </div>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" class="custom-control-input" id="name" checked="checked" name="searchRadio">
                            <label class="custom-control-label" for="name">NAME</label>
                        </div>
                    </div>
                    <div class="col col-12">
                        <div class="form-group">
                            <input id="AutoPatientSearchID" type="hidden" class="form-control m-0 " placeholder="Doctor ID" />
                            <div class="form-group">
                                <div class="form-label-group">
                                    <input type="text" id="search" class="form-control" placeholder="Search" required="required" autocomplete="off" />
                                    <label for="search">Search</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary btn-sm col col-6" type="button" data-dismiss="modal">Cancel</button>
                <button class="btn btn-primary btn-sm col col-6" data-toggle="modal" data-target="#PatientProfile" onclick="PatientProfile();">OK</button>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="PatientProfile" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header mb-0 ">
                <h5 class="modal-title" id="exampleModalLabel">Patient Profile</h5>
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" class="font-weight-light">x</span>
                </button>
            </div>
            <div class="modal-body p-0">
                <div id="wrapper">
                    <div class="sidebar navbar-nav bg-light col col-4 border-right border-info overflow-auto" style="height:920px;">
                        <div class="form-group pl-4 pt-3">
                            <label class="h4 font-weight-light control-label pb-3" id="Name"></label>
                            <br />
                            <label class="font-weight-light control-label p-0 m-0">Care Start Date</label>
                            <br />
                            <label class="h6 control-label p-0" id="CareStartDate"></label>
                            <br />
                            <br />
                            <label class="font-weight-light control-label p-0 m-0">Date of Birth</label>
                            <br />
                            <label class="h6 control-label p-0" id="DateOfBirth"></label>
                            <br />
                            <br />
                            <label class="font-weight-light control-label p-0 m-0">Gender</label>
                            <br />
                            <label class="h6 control-label p-0" id="Gender"></label>
                            <br />
                            <br />
                            <label class="font-weight-light control-label p-0 m-0">Phone Number</label>
                            <br />
                            <label class="h6 control-label p-0" id="Phone"></label>
                            <br />
                            <br />
                            <label class="font-weight-light control-label p-0 m-0">Occupation</label>
                            <br />
                            <label class="h6 control-label p-0" id="Job"></label>
                            <br />
                            <br />
                            <li class="nav-item dropdown">
                                <a class="text-dark nav-link dropdown-toggle alert alert-secondary p-0" href="#" id="pagesDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <span class="ml-2">Sicknesses</span>
                                </a>
                                <div class="dropdown-menu pl-3 " aria-labelledby="pagesDropdown">
                                    <table id="Sickness">
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </li>
                            <br />
                            <li class="nav-item dropdown">
                                <a class="text-dark nav-link dropdown-toggle alert alert-secondary p-0" href="#" id="pagesDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <span class="ml-2">Sicked Teeth</span>
                                </a>
                                <div class="dropdown-menu pl-3 " aria-labelledby="pagesDropdown">
                                    <table id="Teeth">
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </li>
                            <br />
                            <div class="card form-group text-center p-1">
                                <label class="h6 control-label p-0 m-0 text-primary" id="TotalVisits"></label>
                                <label class="font-weight-light control-label p-0 m-0">Total Visits</label>
                            </div>
                            <div class="card form-group text-center p-1">
                                <label class="h6 control-label p-0 m-0 text-primary" id="LastVisited"></label>
                                <label class="font-weight-light control-label p-0 m-0">Last Visited</label>
                            </div>
                            <div class="card form-group text-center p-1">
                                <label class="h6 control-label p-0 m-0 text-primary" id="Doctor"></label>
                                <label class="font-weight-light control-label p-0 m-0">Primary Doctor</label>
                            </div>
                            <div class="card form-group text-center p-1">
                                <label class="h6 control-label p-0 m-0 text-primary" id="Fee"></label>
                                <label class="font-weight-light control-label p-0 m-0">Registration Fee</label>
                            </div>
                        </div>
                    </div>
                    <div id="content-wrapper" class="col col-8 border-left border-info p-0">
                        <div>
                            <div class="m-0 pl-3 pt-3 mr-0 mb-3 mt-1">
                                <div class="card-header alert-primary mb-0">Choose an Appointment to show the details</div>
                                <div class="alert alert-primary overflow-auto" style="height:150px;">
                                    <table class="table table-hover table-sm table-borderless" id="Appointment" width="100%">
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="m-0 pl-3 pt-3 overflow-auto" style="height:490px;">
                            <table width="100%" id="Visits">
                                <tbody></tbody>
                            </table>
                            <table width="100%" id="RegistrationId" style="visibility:hidden;">
                                <tbody></tbody>
                            </table>
                        </div>
                        <div class="m-0 pl-3 pt-3 mr-3 mt-3" style="height:90px;">
                            <div class="alert alert-warning p-1">
                                <label class="bg-info text-white float-right pl-2 pr-2" style="margin-right:-15px; margin-top:-15px;">Balance</label>
                                <br />
                                <div class="form-group pl-4">
                                    <span class="font-weight-light p-0 m-0">Amount Payable: </span>
                                    <label class="h6 control-label p-0" id="AmountPayable">0.00</label>
                                    <br />
                                    <span class="font-weight-light p-0 m-0">Amount Received: </span>
                                    <label class="h6 control-label p-0" id="AmountReceived">0.00</label>
                                    <br />
                                    <span class="font-weight-light p-0 m-0">Net Amount: </span>
                                    <label class="h6 control-label p-0" id="NetAmount">0.00</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="printme" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header bg-primary">
                <h5 class="modal-title text-light" id="exampleModalLabel">Print</h5>
                <button class="btn btn-link" onclick="print('#body');">Print</button>
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" class="text-light">x</span>
                </button>
            </div>
            <div class="modal-body" id="body">
                <div id="wrapper">

                </div>
                <footer>footer</footer>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary btn-sm col col-6" type="button" data-dismiss="modal">Cancel</button>
                <button class="btn btn-primary btn-sm col col-6" data-toggle="modal" data-target="#PatientProfile" onclick="PatientProfile();">OK</button>
            </div>
        </div>
    </div>
</div>


<div id='PatientList' class='modal fade'>
    <div class="modal-dialog modal-lg" style="width: 100%;">
        <div class="modal-content">
            <div id='PatientListContent'>

            </div>
        </div>
    </div>
</div>

@*<input type="text"  id="date"/>*@

<script>




//    $('#date').daterangepicker({
//          singledatepicker: false,
//        startdate: moment().subtract(0, 'days').format("mmmm dd, yyyy"),
//          "timepicker": true,
//    "ranges": {
//        "today": [
//            "2020-01-17t16:00:24.986z",
//            "2020-01-17t16:00:24.986z"
//        ],
//        "yesterday": [
//            "2020-01-16t16:00:24.986z",
//            "2020-01-16t16:00:24.986z"
//        ],
//        "last 7 days": [
//            "2020-01-11t16:00:24.986z",
//            "2020-01-17t16:00:24.986z"
//        ],
//        "last 30 days": [
//            "2019-12-19t16:00:24.986z",
//            "2020-01-17t16:00:24.986z"
//        ],
//        "this month": [
//            "2019-12-31t19:30:00.000z",
//            "2020-01-31t19:29:59.999z"
//        ],
//        "last month": [
//            "2019-11-30t19:30:00.000z",
//            "2019-12-31t19:29:59.999z"
//        ]
//    },
//    "startdate": "01/17/2020",
//    "enddate": "01/17/2020 - 01/17/2020"
//        }, function(start, end, label) {
//  alert("new date range selected: '" + start.format('yyyy-mm-dd') + "' to '" + end.format('yyyy-mm-dd') + "' (predefined range: '" + label + "') ");
//});



     function print(content) {
        $(content).printThis({
            debug: false,               // show the iframe for debugging
            importCSS: true,            // import parent page css
            importStyle: false,         // import style tags
            printContainer: true,       // print outer container/$.selector
            loadCSS: "",                // path to additional css file - use an array [] for multiple
            pageTitle: "",              // add title to print page
            removeInline: false,        // remove inline styles from print elements
            removeInlineSelector: "*",  // custom selectors to filter inline styles. removeInline must be true
            printDelay: 333,            // variable print delay
            header: null,               // prefix to html
            footer: null,               // postfix to html
            base: false,                // preserve the BASE tag or accept a string for the URL
            formValues: true,           // preserve input/form values
            canvas: false,              // copy canvas content
            doctypeString: '...',       // enter a different doctype for older markup
            removeScripts: false,       // remove script tags from print content
            copyTagClasses: false,      // copy classes from the html & body tag
            beforePrintEvent: null,     // function for printEvent in iframe
            beforePrint: null,          // function called before iframe is filled
            afterPrint: null            // function called before iframe is removed
        });
    }


    function PatientProfile() {

        var search;
        if (document.getElementById('id').checked)
            search = $("#search").val();
        else if (document.getElementById('name').checked)
            search = $("#AutoPatientSearchID").val();
        else
            alert("Please select a search option")

        if (search != '') {
            $.ajax({
                type: "GET",
                async: true,
                url: '@Url.Action("searchByPatient", "PatientRegisterations")',
                data: { patientID: search },
                contentType: "application/json; charset=utf-8",
                dataType: "html",
                success: function (data) {
                    var item = $.parseJSON(data);

                    var BirthDate = moment(item[0].patientDateofBirth);
                    var Now = moment(Date.now());
                    var diffDays = Now.diff(BirthDate, 'years');

                    $("#Name").text(item[0].patientName + " " + item[0].patientLastName);
                    $("#DateOfBirth").text(moment(item[0].patientDateofBirth).format("MMM DD, YYYY")+" ("+diffDays+" years old)");
                    $("#Gender").text(item[0].patientGender);
                    $("#Phone").text(item[0].patientPhone);
                    $("#Job").text(item[0].patientJob);

                    var table1 = document.getElementById('Appointment');
                    var table2 = document.getElementById('RegistrationId');

                    for (var i = table1.rows.length; i > 0; i--) {
                        table1.deleteRow(i);
                    }

                    for (var i = table2.rows.length-1; i > 0; i--) {
                        table2.deleteRow(i);
                    }


                    for (var i = 0; i < item.length; i++) {
                        if (item[i].patientRegistrationID > 0) {
                            var newRow = table1.insertRow(table1.rows.length);
                            var cell1 = newRow.insertCell(0);
                            var cell2 = newRow.insertCell(1);

                            cell1.innerHTML = "Appointment# " + item[i].patientRegistrationID;
                            cell2.innerHTML = "<input type='button' name='btnRemove' onclick='getRegisterID();' value='Details' class='btn btn-secondary btn-sm p-0 pl-1 pr-1 ml-1'>";
                        }
                    }


                    for (var i = 0; i < item.length; i++) {

                        var newRow = table2.insertRow(table2.rows.length);
                        var cell1 = newRow.insertCell(0);

                        cell1.innerHTML = item[i].patientRegistrationID;

                    }

                },
                error: function (xhr) { alert("Error"); }
            });

        } else {
            alert("There is no item to search!");
        }

    }


    function getRegisterID() {

        var table1 = document.getElementById('Appointment'), Index, table2=document.getElementById('RegistrationId');
        for (var i = 0; i < table1.rows.length; i++) {
            table1.rows[i].cells[1].onclick = function () {
                Index = this.parentElement.rowIndex;

                var rowsNotSelected = table1.getElementsByTagName('tr');

                for (var row = 0; row < rowsNotSelected.length; row++) {
                    rowsNotSelected[row].style.backgroundColor = "";
                    rowsNotSelected[row].classList.remove('selected');
                }

                var rowSelected = table1.getElementsByTagName('tr')[Index];
                rowSelected.style.backgroundColor = "yellow";
                rowSelected.className += " selected";
                searchByRegistration(table2.rows[Index].cells[0].innerHTML);
            };
        }

    }

    function searchByRegistration(s) {

        $("#RegistrationID").val(s);
        $.ajax({
            type: "GET",
            async: true,
            url: '@Url.Action("searchByRegistration", "PatientRegisterations")',
            data: { RegistrationID: s },
            contentType: "application/json; charset=utf-8",
            dataType: "html",
            success: function (data) {
                var item = $.parseJSON(data);
                
                var DrugTotal=0;
                var OtherTotal=0;
                var TotalPayment=0;

                for (var i = 0; i < item.paidAmount.length; i++) {
                    TotalPayment += item.paidAmount[i];
                }

                for (var i = 0; i < item.drugFeeTotal.length; i++) {
                    DrugTotal += item.drugFeeTotal[i];
                    OtherTotal += item.otherFeesTotal[i];
                }

                $("#Doctor").text(item.doctorName + " " + item.doctorLastName);
                $("#AmountReceived").text(TotalPayment);
                $("#AmountPayable").text(DrugTotal + OtherTotal);
                $("#NetAmount").text(DrugTotal + OtherTotal - TotalPayment);
                $("#TotalVisits").text(item.patientRegistrationCheckDate.length);
                $("#Fee").text(item.registrationFee);

                var table1 = document.getElementById('Sickness');
                var table2 = document.getElementById('Teeth');

                for (var i = table1.rows.length-1; i >= 0; i--) {
                    table1.deleteRow(i);
                }

                for (var i = table2.rows.length-1; i >= 0; i--) {
                    table2.deleteRow(i);
                }

                for (var i = 0; i < item.historyElementID.length; i++) {

                    var newRow = table1.insertRow(table1.rows.length);
                    var cell1 = newRow.insertCell(0);
                    cell1.innerHTML = item.historyElementName[i];
                }

                for (var i = 0; i < item.teethNumberId.length; i++) {
                    var newRow = table2.insertRow(table2.rows.length);
                    var cell1 = newRow.insertCell(0);

                    cell1.innerHTML = item.teethNumber[i];
                }


                var table = document.getElementById('Visits');
                for (var i = table.rows.length-1; i >= 0; i--) {
                    table.deleteRow(i);
                }

                for (var i = 0; i < item.patientRegistrationCheckDate.length; i++) {
                    var CheckNet = item.drugFeeTotal[i] + item.otherFeesTotal[i] - item.checkTotalPayment[i];
                    if (i == 0)
                        $("#CareStartDate").text(moment(item.patientRegistrationCheckDate[i]).format("MMMM DD, YYYY"));
                    if (i == item.patientRegistrationCheckDate.length - 1)
                        $("#LastVisited").text(moment(item.patientRegistrationCheckDate[i]).format("MMMM DD, YYYY"));

                    var newRow = table.insertRow(table.rows.length);
                    var cell1 = newRow.insertCell(0);
                    var count = i + 1;
                    cell1.innerHTML = "<div class='alert alert-dark p-1 mr-3'>" +
                        "<label class='rounded-circle bg-info text-white float-left pl-2 pr-2' style='margin-left:-15px; margin-top:-15px;'>" + count + "" +
                        "</label><br /><div class='form-group pl-4'><span class='font-weight-light p-0 m-0'>Date: " +
                        "</span><label class='h6 control-label p-0'>" + moment(item.patientRegistrationCheckDate[i]).format("DD-MMM-YYYY") + "</label>" +
                        "<br /><span class='font-weight-light p-0 m-0'>" +
                        "Drug Charges: </span><label class='h6 control-label p-0'>" + item.drugFeeTotal[i] + "</label><br /><span>Service Charges: </span>" +
                        "<label class='h6 control-label p-0'>" + item.otherFeesTotal[i] + "</label><br /><span>Received Amount: </span><label class='h6 control-label p-0'>" + item.checkTotalPayment[i] + "</label>" +
                        "<br /><span>Net Amount: </span><label class='h6 control-label p-0'>" + CheckNet + "</label>" +
                        "<br /><span>Doctor Notes: "+item.doctornotelist[i]+"</span><label class='h6 control-label p-0'></label></div></div>";
                }


                $.each(item, function () {
                    console.log(this);
                });
            },
            error: function (xhr) { alert("Error"); }
        });
    }


    $(document).ready(function () {
        var table = $('#table').DataTable({
            dom: 'Bfrtip',
            lengthChange: false,
            buttons: ['copy', 'csv', 'excel', 'pdf', 'colvis', 'print']
        });

        table.buttons().container()
            .appendTo('#example_wrapper .col-md-6:eq(0)');
    });

    function PatientList() {
        var options = { "backdrop": "static", keyboard: true };

        $.ajax({
            url: '@Url.Action("PatientList", "Dashboard")',
            type: 'get',
            async: false,
            contentType: "application/json; charset=utf-8",
            data: {},//scgid: $("#hiddenSessionClassGroupID").val() },
            datatype: "json",

            success: function (data) {
                //debugger;
                $('#PatientListContent').html(data);
                $('#PatientList').modal(options);
                $('#PatientList').modal('show');

                return false;
            },

            error: function () {
                alert("Dynamic content load failed.");
                return false;
            }
        });
    }

    $(document).ready(function () {
        $.ajax({
            type: "GET",
            async: true,
            url: '@Url.Action("CountPatient", "Dashboard")',
            data: {},
            contentType: "application/json; charset=utf-8",
            dataType: "html",
            success: function (data) {
                $("#Patient").text(data+" Patient (s)");

            },
            error: function (xhr) { alert("Error"); }
        });
    });

     $("#search").autocomplete({

        open: function (event, ui) {
            $('#AutoPatientSearchID').val('0');
        },

        source: function (request, response) {

            $.getJSON(
                '@Url.Action("AutoCompletePatientSearch", "PatientRegisterations")',
                { term: request.term },
                response
            );
        },
        minLength: 1,
        autoFocus: true,

        select: function (event, ui) {
            //set tagids to save
            $("#AutoPatientSearchID").val(ui.item.id);
            //Tags for display
            this.value = ui.item.label;
            return false;
        },

        close: function (event, ui) { }
    });

</script>
